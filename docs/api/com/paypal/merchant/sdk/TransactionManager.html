<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_43) on Mon Aug 12 13:07:34 PDT 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
TransactionManager (PayPal Here Merchant SDK 1.0.0-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2013-08-12">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TransactionManager (PayPal Here Merchant SDK 1.0.0-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TransactionManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/TransactionListener.PaymentEventType.html" title="enum in com.paypal.merchant.sdk"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.CancelPaymentErrors.html" title="enum in com.paypal.merchant.sdk"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/paypal/merchant/sdk/TransactionManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.paypal.merchant.sdk</FONT>
<BR>
Interface TransactionManager</H2>
<HR>
<DL>
<DT><PRE>public interface <B>TransactionManager</B></DL>
</PRE>

<P>
Used to take payments, collect money, and process refunds. <br>
 <p>
 There are two main ways to collect payment ... <br>
 1) for a simple fixed amount  <br>
 2) for an itemized list of items <br>
 <p>
 TransactionManager is stateful.  It attempts to take a payment on the shopping cart it is holding and will work <br>
 in concert with the PeripheralsManager to emit events the UI may need to respond to while taking payment. It will <br>
 emit these events to any TransactionListener that is registered with it. <br>
 <p>
 <p>
 <H3> Some Examples:</H3><br>

 <style type="text/css">
 .myTable { background-color:#FFFFE0;border-collapse:collapse; }
 .myTable th { background-color:#BDB76B;color:white; }
 .myTable td, .myTable th { padding:5px;border:1px solid #BDB76B; }
 </style>

 <table class="myTable">
 <tr>
 <th>Example of how to take a payment for a simple fixed amount.  This takes a payment for 42.50 in <br>
 the Merchant's default currency</th>
 </tr>
 <tr>
 <td>transactionManager.beginPayment(new BigDecimal("42.50")); <br>
 //Wait for the user swipe data to arrive then ... <br>
 transactionManager.finalizePayment(PaymentType.CARD_READER, mResponseHandler);</td>
 </tr>
 </table>
 <p>
 <table class="myTable">
 <tr>
 <th>Example of how to take a payment for an itemized list of items.</th>
 </tr>
 <tr>
 <td>ShoppingCart cart = transactionManager.beginPayment(); <br>
 cart.addItem(apples, 6); <br>
 cart.addItem(juice, 1); <br>
 cart.addItem(orange, 6); <br>
 transactionManager.setShoppingCart(cart); <br>
 //Wait for the user swipe data to arrive then ... <br>
 transactionManager.finalizePayment(PaymentType.CARD_READER, mResponseHandler); <br>
 </tr>
 </table>
 <p>
  <br>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.CancelPaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.CancelPaymentErrors</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The list of possible errors you can receive when canceling a payment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.ChipAndPinAuthResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.ChipAndPinAuthResponse</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Additional response data for chip&pin payment attempts</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentErrors</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The list of possible errors you can receive when taking a payment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.PaymentResponse</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When making a finalizePayment call you'll eventually receive a response.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentType.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentType</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When taking payment you can specify what type of payment you would like to make.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#beginPayment()">beginPayment</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Let's you start an itemized payment<br>
 <br>
 This call will: <br>
 <br>
 - Cause TransactionManager to be setup with an empty ShoppingCart<br>
 - If a card reader is attached we will start scanning for card swipes.<br>
 <br>
 Normal payment flow is as follows...<br>
 1) call beginPayment() or beginPayment(amount)<br>
 2) The user can then swipe a card (if paying by card) <br>
 3) You can also optionally do things like: <br>
    - set the ShoppingCart        <br>
    - set TransactionExtras       <br>
    - set the tip                 <br>
    - set the Signature.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#beginPayment(java.math.BigDecimal)">beginPayment</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;amount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Let's you start a payment for a fixed amount.<br>
 <br>
 This call will: <br>
 <br>
 - Cause TransactionManager's shopping cart to be setup to contain a single item with
   a fixed amount equal to the 'amount' parameter.<br>
 - If a card reader is attached we will start scanning for card swipes.<br>
 <br>
 Normal payment flow is as follows...<br>
 1) call beginPayment() or beginPayment(amount)<br>
 2) The user can then swipe a card (if paying by card) <br>
 3) You can also optionally do things like: <br>
    - set the ShoppingCart        <br>
    - set TransactionExtras       <br>
    - set the tip                 <br>
    - set the Signature.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.CancelPaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.CancelPaymentErrors</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#cancelPayment()">cancelPayment</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Call cancelPayment to cancel the current payment.<br>
 <br>
 What this call does is:<br>
 - Moves the TransactionManager into an idle state.<br>
 - Causes the TransactionManager to forget any ShoppingCart, Signature, card data, or TransactionExtras data it may have been holding.<br>
 - Stops scanning for card swipes (if a card reader is connected).<br>
 <br>
 Note, it is only legal to issue a cancelPayment between calls to beginPayment and finalizePayment.<br>
 That is because we can't cancel a payment before we begin it and we cannot cancel a payment <br>
 once told to collect the funds (finalizePayment).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#checkRefundEligibility(com.paypal.merchant.sdk.domain.SecureCreditCard, com.paypal.merchant.sdk.domain.TransactionRecord, com.paypal.merchant.sdk.domain.DefaultResponseHandler)">checkRefundEligibility</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/SecureCreditCard.html" title="interface in com.paypal.merchant.sdk.domain">SecureCreditCard</A>&nbsp;card,
                       <A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>&nbsp;historicalPayment,
                       <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.BasicErrors.html" title="enum in com.paypal.merchant.sdk.domain">PPError.BasicErrors</A>&gt;&gt;&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check the refund eligibility for the current card with the given historical payment</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#doRefund(com.paypal.merchant.sdk.domain.TransactionRecord, java.math.BigDecimal, com.paypal.merchant.sdk.domain.DefaultResponseHandler)">doRefund</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>&nbsp;record,
         <A HREF="http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;amount,
         <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.BasicErrors.html" title="enum in com.paypal.merchant.sdk.domain">PPError.BasicErrors</A>&gt;&gt;&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For the near term this will return a failure when using oauth.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#finalizePayment(com.paypal.merchant.sdk.domain.CheckedInClient, com.paypal.merchant.sdk.domain.DefaultResponseHandler)">finalizePayment</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/CheckedInClient.html" title="interface in com.paypal.merchant.sdk.domain">CheckedInClient</A>&nbsp;client,
                <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.PaymentResponse</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentErrors</A>&gt;&gt;&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to capture money from a customer who is logged into your store via the PayPal Location system.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#finalizePayment(com.paypal.merchant.sdk.domain.SecureCreditCard, com.paypal.merchant.sdk.domain.DefaultResponseHandler)">finalizePayment</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/SecureCreditCard.html" title="interface in com.paypal.merchant.sdk.domain">SecureCreditCard</A>&nbsp;cardData,
                <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.PaymentResponse</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentErrors</A>&gt;&gt;&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to capture money from a customer using the supplied card data.<br>
 <br>
 You can pass in a ManualEntryCardData object (derived from SecureCreditCard) to supply<br>
 unencrypted card data that was manually entered (via the UI), or scanned, etc.<br>
 <br>
 You can also pass in the SecureCreditCard data the PeripheralsListener's onCardReadSuccess API <br>
 might have sent you when a customer scanned their card.<br>
 <br>
 The current shopping cart will be used.<br>
 <br>
 This method can only be called after a call to beginPayment()
 <br></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#finalizePayment(com.paypal.merchant.sdk.TransactionManager.PaymentType, com.paypal.merchant.sdk.domain.DefaultResponseHandler)">finalizePayment</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentType.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentType</A>&nbsp;paymentType,
                <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.PaymentResponse</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentErrors</A>&gt;&gt;&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collects money from a customer using the current PayPal ShoppingCart.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#getIgnoreHardwareReaders()">getIgnoreHardwareReaders</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discovers if TransactionManager is configured to ignore or work with attached payment readers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#getShoppingCart()">getShoppingCart</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a copy of the ShoppingCart the TransactionManager is currently holding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionExtras.html" title="interface in com.paypal.merchant.sdk.domain">TransactionExtras</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#getTransactionExtras()">getTransactionExtras</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allows apps to see what extra information will be stored with the current transaction.<br>
 <br>
 Only active transactions can hold TransactionExtras.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#hasActiveTransaction()">hasActiveTransaction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discover if we're currently handling a transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#hasCardData()">hasCardData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discover if the transaction manager has received card swipe data that it can use<br>
 if you call finalizePayment(CARD_READER).<br>
 <br></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#isProcessingAPayment()">isProcessingAPayment</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discover if we're busy processing a payment we the back end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#provideSignature(android.graphics.Bitmap)">provideSignature</A></B>(android.graphics.Bitmap&nbsp;bm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Provide a signature for the currently active payment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#provideSignature(android.graphics.Bitmap, long)">provideSignature</A></B>(android.graphics.Bitmap&nbsp;bm,
                 long&nbsp;transactionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Provide a signature for a previously completed payment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#reconstructTransactionRecord(java.lang.String)">reconstructTransactionRecord</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serializedTransactionRecord)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deserialize the TransactionRecord from a given String<br>
 <br>
 This method is a utility method to help with reconstructing a TransactionRecord based on a String that represents<br>
 a previously serialized TransactionRecord.<br>
 TransactionRecords are artifacts that the SDK emits to the app in response to payment requests.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#registerListener(com.paypal.merchant.sdk.TransactionListener)">registerListener</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/TransactionListener.html" title="interface in com.paypal.merchant.sdk">TransactionListener</A>&nbsp;observer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register your PaymentListener to receive callbacks related to payment activities.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#serializeTransactionRecord(com.paypal.merchant.sdk.domain.TransactionRecord)">serializeTransactionRecord</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>&nbsp;record)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serialize the TransactionRecord into a String.<br>
 <br>
 This method is a utility to serialize a TransactionRecord object into a string.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#setIgnoreHardwareReaders(boolean)">setIgnoreHardwareReaders</A></B>(boolean&nbsp;ignore)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure the TransactionManager to ignore OR work with any payment readers that might
 be attached.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#setShoppingCart(com.paypal.merchant.sdk.domain.shopping.ShoppingCart)">setShoppingCart</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A>&nbsp;cart)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Supply a shopping cart for the TransactionManager to use during itemized payments.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#setTransactionExtras(com.paypal.merchant.sdk.domain.TransactionExtras)">setTransactionExtras</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionExtras.html" title="interface in com.paypal.merchant.sdk.domain">TransactionExtras</A>&nbsp;extraDetails)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Provides a way to save extra information with a transaction (shipping address, paymentTerms, due date, etc) <br>
 <br>
 This will override any previous TransactionExtras you may have set since calling beginTransaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.html#unregisterListener(com.paypal.merchant.sdk.TransactionListener)">unregisterListener</A></B>(<A HREF="../../../../com/paypal/merchant/sdk/TransactionListener.html" title="interface in com.paypal.merchant.sdk">TransactionListener</A>&nbsp;observer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unregister your PaymentListener to stop receiving callbacks related to payment activities.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setIgnoreHardwareReaders(boolean)"><!-- --></A><H3>
setIgnoreHardwareReaders</H3>
<PRE>
void <B>setIgnoreHardwareReaders</B>(boolean&nbsp;ignore)</PRE>
<DL>
<DD>Configure the TransactionManager to ignore OR work with any payment readers that might
 be attached.

 The default behavior is for the TransactionManager to work with attached payment readers.  If
 that is the desired behavior there is no need to call this method.

 It is not legal to call this method during a transaction.  Complete your transaction first, then
 change this setting.   Calling setIgnoreHardwareReaders during a transaction will have no effect.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ignore</CODE> - pass true to ignore readers, false to include them</DL>
</DD>
</DL>
<HR>

<A NAME="getIgnoreHardwareReaders()"><!-- --></A><H3>
getIgnoreHardwareReaders</H3>
<PRE>
boolean <B>getIgnoreHardwareReaders</B>()</PRE>
<DL>
<DD>Discovers if TransactionManager is configured to ignore or work with attached payment readers.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns true if we'll ignore payment readers during TransactionManager's payment processing.  False otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="isProcessingAPayment()"><!-- --></A><H3>
isProcessingAPayment</H3>
<PRE>
boolean <B>isProcessingAPayment</B>()</PRE>
<DL>
<DD>Discover if we're busy processing a payment we the back end.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a boolean value.  Returns true if we're currently processing a finalizePayment</DL>
</DD>
</DL>
<HR>

<A NAME="hasActiveTransaction()"><!-- --></A><H3>
hasActiveTransaction</H3>
<PRE>
boolean <B>hasActiveTransaction</B>()</PRE>
<DL>
<DD>Discover if we're currently handling a transaction.  While handling a transaction
 we can accept a shopping cart, TransactionExtras, and can finalizePayment.  If configured
 to work with the hardware scanners (the default) we will also be scanning for card swipes.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a boolean value.  Returns true if we're currently handling a transaction.</DL>
</DD>
</DL>
<HR>

<A NAME="registerListener(com.paypal.merchant.sdk.TransactionListener)"><!-- --></A><H3>
registerListener</H3>
<PRE>
void <B>registerListener</B>(<A HREF="../../../../com/paypal/merchant/sdk/TransactionListener.html" title="interface in com.paypal.merchant.sdk">TransactionListener</A>&nbsp;observer)</PRE>
<DL>
<DD>Register your PaymentListener to receive callbacks related to payment activities.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>observer</CODE> - your object which implements the PaymentListener interface</DL>
</DD>
</DL>
<HR>

<A NAME="unregisterListener(com.paypal.merchant.sdk.TransactionListener)"><!-- --></A><H3>
unregisterListener</H3>
<PRE>
void <B>unregisterListener</B>(<A HREF="../../../../com/paypal/merchant/sdk/TransactionListener.html" title="interface in com.paypal.merchant.sdk">TransactionListener</A>&nbsp;observer)</PRE>
<DL>
<DD>Unregister your PaymentListener to stop receiving callbacks related to payment activities.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>observer</CODE> - your object which implements the PaymentListener interface</DL>
</DD>
</DL>
<HR>

<A NAME="beginPayment(java.math.BigDecimal)"><!-- --></A><H3>
beginPayment</H3>
<PRE>
<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A> <B>beginPayment</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;amount)</PRE>
<DL>
<DD>Let's you start a payment for a fixed amount.<br>
 <br>
 This call will: <br>
 <br>
 - Cause TransactionManager's shopping cart to be setup to contain a single item with
   a fixed amount equal to the 'amount' parameter.<br>
 - If a card reader is attached we will start scanning for card swipes.<br>
 <br>
 Normal payment flow is as follows...<br>
 1) call beginPayment() or beginPayment(amount)<br>
 2) The user can then swipe a card (if paying by card) <br>
 3) You can also optionally do things like: <br>
    - set the ShoppingCart        <br>
    - set TransactionExtras       <br>
    - set the tip                 <br>
    - set the Signature.          <br>
 4) Then you attempt to collect payment using one of the finalizePayment methods OR <br>
    you can cancel the transaction with cancelPayment().  Both finalizePayment and <br>
    cancelTransaction() cause us to stop scanning for card swipes.<br>
 <br>
 <br>
 Note that you don't have to use this initial shopping cart, you can always provide<br>
 a new shopping cart via the setShoppingCart(cart) method.<br>
 <br>
 Also, if not in 'transaction only mode', this call will start the hardware scanning<br>
 for card swipes & card insertions.<br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>amount</CODE> - A BigDecimal indicating the amount to charge in units of the Merchant's default currency.
<DT><B>Returns:</B><DD>Returns a copy of the initial shopping cart we're using for this transaction.  <br>
     If you make changes to the shopping cart (add a tip, or add items) make sure to apply your <br>
     changes using the setShoppingCart call.</DL>
</DD>
</DL>
<HR>

<A NAME="beginPayment()"><!-- --></A><H3>
beginPayment</H3>
<PRE>
<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A> <B>beginPayment</B>()</PRE>
<DL>
<DD>Let's you start an itemized payment<br>
 <br>
 This call will: <br>
 <br>
 - Cause TransactionManager to be setup with an empty ShoppingCart<br>
 - If a card reader is attached we will start scanning for card swipes.<br>
 <br>
 Normal payment flow is as follows...<br>
 1) call beginPayment() or beginPayment(amount)<br>
 2) The user can then swipe a card (if paying by card) <br>
 3) You can also optionally do things like: <br>
    - set the ShoppingCart        <br>
    - set TransactionExtras       <br>
    - set the tip                 <br>
    - set the Signature.          <br>
 4) Then you attempt to collect payment using one of the finalizePayment methods OR <br>
    you can cancel the transaction with cancelPayment().  Both finalizePayment and <br>
    cancelTransaction() cause us to stop scanning for card swipes.<br>
 <br>
 <br>
 Note that you don't have to use this initial shopping cart returned by this method, you can always provide<br>
 a new shopping cart via the setShoppingCart(cart) method.<br>
 <br>
 Also, if not in 'transaction only mode', this call will start the hardware scanning<br>
 for card swipes & card insertions.<br>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns a copy of the initial shopping cart we're using for this transaction.  <br>
     If you make changes to the shopping cart (add a tip, or add items) make sure to apply your <br>
     changes using the setShoppingCart call.</DL>
</DD>
</DL>
<HR>

<A NAME="getShoppingCart()"><!-- --></A><H3>
getShoppingCart</H3>
<PRE>
<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A> <B>getShoppingCart</B>()</PRE>
<DL>
<DD>Returns a copy of the ShoppingCart the TransactionManager is currently holding.  If you<br>
 make changes to the shopping cart (add discounts, add/remove items, etc) you will need<br>
 submit your changed shopping cart to the TransactionManager using the setShoppingCart() call.<br>
 <br>
 The shopping cart can tell you the current subtotal, the tax total, the grand total.  It also<br>
 holds any Discount you may have applied and holds the tip amount the customer may have added.<br>
 <br>
 An advanced use for getShoppingCart / setShoppingCart...  <br>
 <br>
 The app can always get the current shopping cart and store it.  It can then at a later time (perhaps <br>
 during a future transaction) set that old shopping cart back into the transaction manager.  That <br>
 allows you to pause an itemized transaction and do a new transaction.  For example, if you have <br>
 a customer who has started the payment process, but then realizes they forgot their credit card <br>
 in their car, you can call getShoppingCart, save the cart, then cancel the transaction.  You are then <br>
 free to conduct additional transactions while the customer is fetch their credit card.  Once they return <br>
 you could select their old shopping cart (which you have stored app-side) and start a new transaction.<br>
 Call setShoppingCart to push this old shopping cart (with all its itemized CartItems in it) into  <br>
 the transaction.  They once they are ready to pay and are done adding tip & such you can call finalizePayment().<br>
 <br>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The current ShoppingCart.  If no transaction has begun this will be null.</DL>
</DD>
</DL>
<HR>

<A NAME="setShoppingCart(com.paypal.merchant.sdk.domain.shopping.ShoppingCart)"><!-- --></A><H3>
setShoppingCart</H3>
<PRE>
void <B>setShoppingCart</B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/shopping/ShoppingCart.html" title="interface in com.paypal.merchant.sdk.domain.shopping">ShoppingCart</A>&nbsp;cart)</PRE>
<DL>
<DD>Supply a shopping cart for the TransactionManager to use during itemized payments. <br>
 This will overwrite any previous shopping cart in the transaction manager.  Note that we<br>
 make a copy of the cart you set into the transaction manager.  That means any changes you<br>
 make to the shopping cart after you have called setShoppingCart will not be see by the<br>
 transaction manager and will not become part of the purchase unless you once again call setShoppingCart<br>
 <br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cart</CODE> - The ShoppingCart to use for the current transaction.</DL>
</DD>
</DL>
<HR>

<A NAME="setTransactionExtras(com.paypal.merchant.sdk.domain.TransactionExtras)"><!-- --></A><H3>
setTransactionExtras</H3>
<PRE>
void <B>setTransactionExtras</B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionExtras.html" title="interface in com.paypal.merchant.sdk.domain">TransactionExtras</A>&nbsp;extraDetails)</PRE>
<DL>
<DD>Provides a way to save extra information with a transaction (shipping address, paymentTerms, due date, etc) <br>
 <br>
 This will override any previous TransactionExtras you may have set since calling beginTransaction. <br>
 <br>
 When you call finalizePayment() or cancelPayment() the state of the TransactionManager is cleared.  At<br>
 that time TransactionManager will forget any previous TransactionExtras you may have set for the<br>
 just completed payment.<br>
 <br>
 If you wish to use the same TransactionExtras for multiple transactions you will need to<br>
 call setTransactionExtras() for each transaction.<br>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionExtras()"><!-- --></A><H3>
getTransactionExtras</H3>
<PRE>
<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionExtras.html" title="interface in com.paypal.merchant.sdk.domain">TransactionExtras</A> <B>getTransactionExtras</B>()</PRE>
<DL>
<DD>Allows apps to see what extra information will be stored with the current transaction.<br>
 <br>
 Only active transactions can hold TransactionExtras.  Prior to calling beginPayment(), and <br>
 after calling finalizePayment (or cancelPayment()), this will return null.<br>
 <br>
 If you wish to use the same TransactionExtras for multiple transactions you will need to <br>
 call setTransactionExtras() for each transaction. <br>
 <br>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The transaction extras you may have set since calling beginPayment().  Otherwise null.</DL>
</DD>
</DL>
<HR>

<A NAME="hasCardData()"><!-- --></A><H3>
hasCardData</H3>
<PRE>
boolean <B>hasCardData</B>()</PRE>
<DL>
<DD>Discover if the transaction manager has received card swipe data that it can use<br>
 if you call finalizePayment(CARD_READER).<br>
 <br>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns true if we have swipe data, false if we do not.</DL>
</DD>
</DL>
<HR>

<A NAME="finalizePayment(com.paypal.merchant.sdk.TransactionManager.PaymentType, com.paypal.merchant.sdk.domain.DefaultResponseHandler)"><!-- --></A><H3>
finalizePayment</H3>
<PRE>
void <B>finalizePayment</B>(<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentType.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentType</A>&nbsp;paymentType,
                     <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.PaymentResponse</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentErrors</A>&gt;&gt;&nbsp;response)</PRE>
<DL>
<DD>Collects money from a customer using the current PayPal ShoppingCart. <br>
 For cash payments pass in 'CASH' as the payment type. <br>
 For credit card payments, pass in CARD_READER.  Etc.<br>
 <br>
 Your response handler will be called with an error if you attempt to take a payment <br>
 with an empty shopping cart.<br>
 <br>
 For CARD_READER payments we'll use the most recently scanned credit card since beginTransaction() was called. <br>
 <br>
 This method can only be called after a call to beginPayment().<br>
 <br>
 Once you call this method you can no longer cancel the payment.<br>
 <br>
 Once your completion handler is called the transaction manager will return to an idle state awaiting the<br>
 next call to beginPayment (or doRefund).  Any ShoppingCart, CreditCardInfo, or TransactionExtras which may <br>
 have been set into the TransactionManager during the previous purchase will be forgotten and all state cleared.<br>
 <br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>paymentType</CODE> - Specifies what kind of payment this is (CASH, CARD_READER, etc.  See PaymentType)<br><DD><CODE>response</CODE> - The callback handler.  On Success it returns you a PaymentResponse object.  If there's an<br>
                 error it returns a PPError<PaymentErrors>.  This is called asynchronously on the UI thread.<br></DL>
</DD>
</DL>
<HR>

<A NAME="finalizePayment(com.paypal.merchant.sdk.domain.SecureCreditCard, com.paypal.merchant.sdk.domain.DefaultResponseHandler)"><!-- --></A><H3>
finalizePayment</H3>
<PRE>
void <B>finalizePayment</B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/SecureCreditCard.html" title="interface in com.paypal.merchant.sdk.domain">SecureCreditCard</A>&nbsp;cardData,
                     <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.PaymentResponse</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentErrors</A>&gt;&gt;&nbsp;response)</PRE>
<DL>
<DD>Used to capture money from a customer using the supplied card data.<br>
 <br>
 You can pass in a ManualEntryCardData object (derived from SecureCreditCard) to supply<br>
 unencrypted card data that was manually entered (via the UI), or scanned, etc.<br>
 <br>
 You can also pass in the SecureCreditCard data the PeripheralsListener's onCardReadSuccess API <br>
 might have sent you when a customer scanned their card.<br>
 <br>
 The current shopping cart will be used.<br>
 <br>
 This method can only be called after a call to beginPayment()
 <br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cardData</CODE> - The remote card's info (card number, exp date, etc)<DD><CODE>response</CODE> - The callback handler.  On Success it returns you a PaymentResponse object.  If there's an<br>
                 error it returns a PPError<PaymentErrors>.  This is called asynchronously on the UI thread.<br></DL>
</DD>
</DL>
<HR>

<A NAME="finalizePayment(com.paypal.merchant.sdk.domain.CheckedInClient, com.paypal.merchant.sdk.domain.DefaultResponseHandler)"><!-- --></A><H3>
finalizePayment</H3>
<PRE>
void <B>finalizePayment</B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/CheckedInClient.html" title="interface in com.paypal.merchant.sdk.domain">CheckedInClient</A>&nbsp;client,
                     <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentResponse.html" title="interface in com.paypal.merchant.sdk">TransactionManager.PaymentResponse</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.PaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.PaymentErrors</A>&gt;&gt;&nbsp;response)</PRE>
<DL>
<DD>Used to capture money from a customer who is logged into your store via the PayPal Location system. <br>

 This method can only be called after a call to beginPayment()
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>client</CODE> - A CheckedInClient that describes a user 'checked in' to your store.  <br><DD><CODE>response</CODE> - @param response The callback handler.  On Success it returns you a PaymentResponse object.  If there's an<br>
                 error it returns a PPError<PaymentErrors>.  This is called asynchronously on the UI thread.<br></DL>
</DD>
</DL>
<HR>

<A NAME="doRefund(com.paypal.merchant.sdk.domain.TransactionRecord, java.math.BigDecimal, com.paypal.merchant.sdk.domain.DefaultResponseHandler)"><!-- --></A><H3>
doRefund</H3>
<PRE>
void <B>doRefund</B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>&nbsp;record,
              <A HREF="http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;amount,
              <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.BasicErrors.html" title="enum in com.paypal.merchant.sdk.domain">PPError.BasicErrors</A>&gt;&gt;&nbsp;response)</PRE>
<DL>
<DD>For the near term this will return a failure when using oauth.  When using GMAPI<br>
 login this will trigger a refund on the invoice described by the RefundDetails object.<br>
 <br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>record</CODE> - A RefundDetails object which describes the refund that is being<br>
                attempted.  Contains the invoice, the amount we are attempting<br>
                to refund, the transactionId, etc<br><DD><CODE>amount</CODE> - The amount to refund<DD><CODE>response</CODE> - A response object that will be called when the refund is complete.  If successful you will<br>
                 be passed a new TransactionRecord for the refund.  If the refund fails you will receive a<br>
                 PPError<BasicErrors>.  This is called asynchronously on the UI thread.<br></DL>
</DD>
</DL>
<HR>

<A NAME="checkRefundEligibility(com.paypal.merchant.sdk.domain.SecureCreditCard, com.paypal.merchant.sdk.domain.TransactionRecord, com.paypal.merchant.sdk.domain.DefaultResponseHandler)"><!-- --></A><H3>
checkRefundEligibility</H3>
<PRE>
void <B>checkRefundEligibility</B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/SecureCreditCard.html" title="interface in com.paypal.merchant.sdk.domain">SecureCreditCard</A>&nbsp;card,
                            <A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>&nbsp;historicalPayment,
                            <A HREF="../../../../com/paypal/merchant/sdk/domain/DefaultResponseHandler.html" title="class in com.paypal.merchant.sdk.domain">DefaultResponseHandler</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</A>,<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.BasicErrors.html" title="enum in com.paypal.merchant.sdk.domain">PPError.BasicErrors</A>&gt;&gt;&nbsp;response)</PRE>
<DL>
<DD>Check the refund eligibility for the current card with the given historical payment
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>card</CODE> - An SecureCreditCard to check against the invoice for refund eligibility<DD><CODE>historicalPayment</CODE> - Record of a payment from the past.<DD><CODE>response</CODE> - A DefaultResponseHandler<Boolean, PPError<BasicErrors>> response that is called async on the main app
                 thread when we have results. This is on the UI thread.</DL>
</DD>
</DL>
<HR>

<A NAME="cancelPayment()"><!-- --></A><H3>
cancelPayment</H3>
<PRE>
<A HREF="../../../../com/paypal/merchant/sdk/domain/PPError.html" title="class in com.paypal.merchant.sdk.domain">PPError</A>&lt;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.CancelPaymentErrors.html" title="enum in com.paypal.merchant.sdk">TransactionManager.CancelPaymentErrors</A>&gt; <B>cancelPayment</B>()</PRE>
<DL>
<DD>Call cancelPayment to cancel the current payment.<br>
 <br>
 What this call does is:<br>
 - Moves the TransactionManager into an idle state.<br>
 - Causes the TransactionManager to forget any ShoppingCart, Signature, card data, or TransactionExtras data it may have been holding.<br>
 - Stops scanning for card swipes (if a card reader is connected).<br>
 <br>
 Note, it is only legal to issue a cancelPayment between calls to beginPayment and finalizePayment.<br>
 That is because we can't cancel a payment before we begin it and we cannot cancel a payment <br>
 once told to collect the funds (finalizePayment).  Calling cancelPayment outside of those <br>
 bounds will cause a non-successful PPError to be returned AND the above listed actions not to be performed.<br>
  <br>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns a PPError indicating if the cancel was successful or not.</DL>
</DD>
</DL>
<HR>

<A NAME="provideSignature(android.graphics.Bitmap)"><!-- --></A><H3>
provideSignature</H3>
<PRE>
void <B>provideSignature</B>(android.graphics.Bitmap&nbsp;bm)</PRE>
<DL>
<DD>Provide a signature for the currently active payment.

 Used to provide a signature to the current payment.  Not used to add
 a signature after the fact.
 Not yet tested ... might need a response handler.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bm</CODE> - The Bitmap image of the signature</DL>
</DD>
</DL>
<HR>

<A NAME="provideSignature(android.graphics.Bitmap, long)"><!-- --></A><H3>
provideSignature</H3>
<PRE>
void <B>provideSignature</B>(android.graphics.Bitmap&nbsp;bm,
                      long&nbsp;transactionId)</PRE>
<DL>
<DD>Provide a signature for a previously completed payment.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bm</CODE> - The Bitmap image of the signature<DD><CODE>transactionId</CODE> - The transactionId indicating which completed payment to add this signature to.</DL>
</DD>
</DL>
<HR>

<A NAME="serializeTransactionRecord(com.paypal.merchant.sdk.domain.TransactionRecord)"><!-- --></A><H3>
serializeTransactionRecord</H3>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>serializeTransactionRecord</B>(<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A>&nbsp;record)</PRE>
<DL>
<DD>Serialize the TransactionRecord into a String.<br>
 <br>
 This method is a utility to serialize a TransactionRecord object into a string. There is an equivalent deserialize<br>
 to reconstruct a TransactionRecord from the serialized string<br>
 Note that applications are not forced to use this API for serialization and deserialization. Should the app wish<br>
 it can handle serialization on its own<br>
 <br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>record</CODE> - - the TransactionRecord object that we want to serialize into a String. This implementation will<br>
 return null if the input record is also null<br>
 <br>
<DT><B>Returns:</B><DD>String representing the serialized TransactionRecord object. The app can then store it in its database for persistent<br>
 storage<br></DL>
</DD>
</DL>
<HR>

<A NAME="reconstructTransactionRecord(java.lang.String)"><!-- --></A><H3>
reconstructTransactionRecord</H3>
<PRE>
<A HREF="../../../../com/paypal/merchant/sdk/domain/TransactionRecord.html" title="interface in com.paypal.merchant.sdk.domain">TransactionRecord</A> <B>reconstructTransactionRecord</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serializedTransactionRecord)</PRE>
<DL>
<DD>deserialize the TransactionRecord from a given String<br>
 <br>
 This method is a utility method to help with reconstructing a TransactionRecord based on a String that represents<br>
 a previously serialized TransactionRecord.<br>
 TransactionRecords are artifacts that the SDK emits to the app in response to payment requests. Applications might<br>
 find it useful to be able to save off this record to persistent storage and being able to reconstruct the object later<br>
 For example, a TransactionRecord is returned when a payment is successful and it needs to be used later when a refund<br>
 needs to be processed. In this case, the app might just want to persistently store all successfully transaction records<br>
 so that they can be retrieved later<br>
 <br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>serializedTransactionRecord</CODE> - - a String that represents a previously serialized TransactionRecord
 <br>
<DT><B>Returns:</B><DD>TransactionRecord - a TransactionRecord object reconstructed from the serialized String<br>
 <br></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TransactionManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/TransactionListener.PaymentEventType.html" title="enum in com.paypal.merchant.sdk"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/paypal/merchant/sdk/TransactionManager.CancelPaymentErrors.html" title="enum in com.paypal.merchant.sdk"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/paypal/merchant/sdk/TransactionManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2009-2013. All Rights Reserved.
</BODY>
</HTML>
